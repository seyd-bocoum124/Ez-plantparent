<mat-table [dataSource]="summaries" class="mat-elevation-z2">

  <!-- Type -->
  <ng-container matColumnDef="type">
    <mat-header-cell *matHeaderCellDef> Type </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.type | titlecase }} </mat-cell>
  </ng-container>

  <!-- Date -->
  <ng-container matColumnDef="created_at">
    <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.created_at | date:'short' }} </mat-cell>
  </ng-container>


  <!-- Sol -->
  <ng-container matColumnDef="soil_humidity_mean">
    <mat-header-cell *matHeaderCellDef> ğŸŒ± Sol (%) </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.soil_humidity_mean ?? 'â€”' }} </mat-cell>
  </ng-container>

  <!-- Lumens -->
  <ng-container matColumnDef="lumens_mean">
    <mat-header-cell *matHeaderCellDef> ğŸ’¡ Lumens </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.lumens_mean ?? 'â€”' }} </mat-cell>
  </ng-container>

  <!-- Air -->
  <ng-container matColumnDef="air_humidity_mean">
    <mat-header-cell *matHeaderCellDef> ğŸ’§ Air (%) </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.air_humidity_mean ?? 'â€”' }} </mat-cell>
  </ng-container>

  <!-- TempÃ©rature -->
  <ng-container matColumnDef="temperature_mean">
    <mat-header-cell *matHeaderCellDef> ğŸŒ¡ï¸ Temp (Â°C) </mat-header-cell>
    <mat-cell *matCellDef="let summary"> {{ summary.temperature_mean ?? 'â€”' }} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="details">
    <mat-header-cell *matHeaderCellDef> DÃ©tails </mat-header-cell>
    <mat-cell *matCellDef="let summary">
      <button
        mat-raised-button
        color="primary"
        [routerLink]="[
          '/my-plants',
          summary.plant_id,
          'maintenance-summaries',
          summary.type === 'express' ? 'express-analysis' : 'watering',
          summary.id
        ]"
      >
        Voir l'analyse
      </button>
    </mat-cell>
  </ng-container>


  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>

